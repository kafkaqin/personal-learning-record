æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ **NumPy** æ¥è¡¨ç¤ºå›¾çš„ **é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰**ï¼Œå¹¶å®ç°æˆ–è°ƒç”¨ç®—æ³•æ¥è®¡ç®—å›¾ä¸­ä¸¤ç‚¹ä¹‹é—´çš„ **æœ€çŸ­è·¯å¾„**ã€‚å¯¹äºç¨ å¯†å›¾æ¥è¯´ï¼Œé‚»æ¥çŸ©é˜µæ˜¯ä¸€ç§éå¸¸ç›´è§‚å’Œé«˜æ•ˆçš„è¡¨ç¤ºæ–¹å¼ã€‚

---

## âœ… ä¸€ã€ä»€ä¹ˆæ˜¯é‚»æ¥çŸ©é˜µï¼Ÿ

**é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰** æ˜¯ä¸€ä¸ª $ n \times n $ çš„çŸ©é˜µï¼Œç”¨äºè¡¨ç¤ºå›¾ä¸­èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³»ï¼š

- è‹¥å­˜åœ¨ä»èŠ‚ç‚¹ `i` åˆ° `j` çš„è¾¹ï¼Œåˆ™ `A[i][j] = weight`
- è‹¥æ²¡æœ‰è¾¹ï¼Œåˆ™é€šå¸¸è®¾ä¸º `inf` æˆ– `0`ï¼ˆå–å†³äºå®šä¹‰ï¼‰

---

## âœ… äºŒã€æ‰‹åŠ¨åˆ›å»ºå›¾çš„é‚»æ¥çŸ©é˜µ

```python
import numpy as np

# åˆ›å»ºä¸€ä¸ªæœ‰å‘å›¾çš„é‚»æ¥çŸ©é˜µï¼ˆæ— è¾¹ç”¨ np.inf è¡¨ç¤ºï¼‰
# èŠ‚ç‚¹ç¼–å·ï¼š0, 1, 2, 3

graph = np.array([
    [np.inf, 1,      4,      np.inf],  # ä» 0 å‡ºå‘
    [np.inf, np.inf, 2,      6     ],  # ä» 1 å‡ºå‘
    [np.inf, 3,      np.inf, 1     ],  # ä» 2 å‡ºå‘
    [np.inf, np.inf, np.inf, np.inf],  # ä» 3 å‡ºå‘
])

print("é‚»æ¥çŸ©é˜µï¼š")
print(graph)
```

è¾“å‡ºï¼š

```
[[inf  1.  4. inf]
 [inf inf  2.  6. ]
 [inf  3. inf  1. ]
 [inf inf inf inf]]
```

---

## âœ… ä¸‰ã€Dijkstra ç®—æ³•å®ç°ï¼ˆåŸºäºé‚»æ¥çŸ©é˜µï¼‰

æˆ‘ä»¬æ¥å®ç° Dijkstra ç®—æ³•ï¼Œæ‰¾å‡ºä»æºç‚¹ `start_node` åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚

```python
def dijkstra(graph, start_node):
    n_nodes = graph.shape[0]
    dist = np.full(n_nodes, np.inf)  # åˆå§‹åŒ–è·ç¦»æ•°ç»„
    visited = np.zeros(n_nodes, dtype=bool)  # æ˜¯å¦å·²å¤„ç†
    prev = np.full(n_nodes, -1, dtype=int)  # è®°å½•å‰é©±èŠ‚ç‚¹ï¼Œç”¨äºé‡å»ºè·¯å¾„

    dist[start_node] = 0

    for _ in range(n_nodes):
        # æ‰¾å½“å‰æœªè®¿é—®çš„æœ€è¿‘èŠ‚ç‚¹
        current = None
        min_dist = np.inf
        for i in range(n_nodes):
            if not visited[i] and dist[i] < min_dist:
                min_dist = dist[i]
                current = i
        if current is None:
            break  # å‰©ä¸‹çš„èŠ‚ç‚¹ä¸å¯è¾¾

        visited[current] = True

        # æ›´æ–°é‚»å±…çš„è·ç¦»
        for neighbor in range(n_nodes):
            if (not visited[neighbor] and 
                graph[current][neighbor] != np.inf and
                dist[current] + graph[current][neighbor] < dist[neighbor]):
                dist[neighbor] = dist[current] + graph[current][neighbor]
                prev[neighbor] = current

    return dist, prev


# ç¤ºä¾‹ï¼šä»èŠ‚ç‚¹ 0 å¼€å§‹æ‰¾æœ€çŸ­è·¯å¾„
distances, predecessors = dijkstra(graph, start_node=0)

print("\nä»èŠ‚ç‚¹ 0 å‡ºå‘çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼š")
for i, d in enumerate(distances):
    print(f"åˆ°èŠ‚ç‚¹ {i} çš„æœ€çŸ­è·ç¦»: {d}")
```

### ğŸ” è¾“å‡ºç¤ºä¾‹ï¼š

```
ä»èŠ‚ç‚¹ 0 å‡ºå‘çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼š
åˆ°èŠ‚ç‚¹ 0 çš„æœ€çŸ­è·ç¦»: 0.0
åˆ°èŠ‚ç‚¹ 1 çš„æœ€çŸ­è·ç¦»: 1.0
åˆ°èŠ‚ç‚¹ 2 çš„æœ€çŸ­è·ç¦»: 3.0
åˆ°èŠ‚ç‚¹ 3 çš„æœ€çŸ­è·ç¦»: 4.0
```

---

## âœ… å››ã€å¯é€‰ï¼šé‡å»ºæœ€çŸ­è·¯å¾„

ä½ å¯ä»¥æ ¹æ® `prev` æ•°ç»„é‡å»ºä»»æ„ç›®æ ‡èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼š

```python
def get_path(prev, target):
    path = []
    while target != -1:
        path.append(target)
        target = prev[target]
    return path[::-1]

path_to_3 = get_path(predecessors, 3)
print(f"\nä»èŠ‚ç‚¹ 0 åˆ°èŠ‚ç‚¹ 3 çš„è·¯å¾„: {path_to_3}")
```

è¾“å‡ºï¼š

```
ä»èŠ‚ç‚¹ 0 åˆ°èŠ‚ç‚¹ 3 çš„è·¯å¾„: [0, 1, 2, 3]
```

---

## ğŸ“Œ äº”ã€æ€»ç»“å¯¹æ¯”è¡¨

| åŠŸèƒ½ | æ–¹æ³• |
|------|------|
| å›¾è¡¨ç¤º | é‚»æ¥çŸ©é˜µï¼ˆNumPy äºŒç»´æ•°ç»„ï¼‰ |
| æœ€çŸ­è·¯å¾„ç®—æ³• | Dijkstraï¼ˆé€‚ç”¨äºéè´Ÿæƒå€¼ï¼‰ |
| æ—¶é—´å¤æ‚åº¦ | O(VÂ²)ï¼Œå…¶ä¸­ V æ˜¯èŠ‚ç‚¹æ•° |
| æ‰©å±•å»ºè®® | ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ–ï¼ˆå¦‚ heapqï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦å¯é™è‡³ O((V+E)logV) |

---

## ğŸ§  å…­ã€å…¶ä»–å·¥å…·æ¨è

å¦‚æœä½ éœ€è¦æ›´é«˜çº§çš„åŠŸèƒ½ï¼ˆå¦‚å¯è§†åŒ–ã€ç¨€ç–å›¾ã€åŠ¨æ€å›¾ç­‰ï¼‰ï¼š

- ä½¿ç”¨ `networkx` åº“è¿›è¡Œå›¾å»ºæ¨¡ä¸å¯è§†åŒ–
- ä½¿ç”¨ `heapq` å®ç°ä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ– Dijkstra
- ä½¿ç”¨ `scipy.sparse.csgraph` ä¸­çš„ `dijkstra` å‡½æ•°

---
