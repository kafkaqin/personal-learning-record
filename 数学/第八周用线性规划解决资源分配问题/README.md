使用 **线性规划（Linear Programming, LP）** 解决资源分配问题是一种经典且高效的方法。它可以帮助你在有限的资源约束下，最大化或最小化某个目标函数（如利润、成本等）。

---

## 🧮 一、问题建模思路

### 目标：
在满足资源限制的前提下，最大化利润或最小化成本。

### 假设你有：

- 多种产品或任务
- 多种资源（如人力、时间、原材料）
- 每种产品需要一定数量的资源
- 每种产品带来一定收益

---

## ✅ 二、示例：生产计划中的资源分配问题

### 🎯 目标函数（最大化利润）：

$$
\max \quad 3x_1 + 5x_2
$$

其中：
- $ x_1 $: 产品 A 的产量
- $ x_2 $: 产品 B 的产量
- 每单位产品 A 获利 3 元，B 获利 5 元

### 📚 约束条件：

$$
\begin{aligned}
3x_1 + 2x_2 &\leq 18 \quad \text{（资源1限制）} \\
x_1 &\leq 4 \quad \text{（资源2限制）} \\
x_2 &\leq 6 \quad \text{（资源3限制）} \\
x_1, x_2 &\geq 0
\end{aligned}
$$

---

## ✅ 三、Python 实现：使用 `scipy.optimize.linprog`

注意：`linprog` 默认是求最小值的，所以我们要将最大化问题转换为最小化问题。

```python
from scipy.optimize import linprog

# 转换为目标函数系数（取负）
c = [-3, -5]  # 最小化 -3x1 -5x2 等价于最大化 3x1 +5x2

# 不等式约束矩阵 A_ub * x <= b_ub
A_ub = [
    [3, 2],   # 3x1 + 2x2 <= 18
    [1, 0],   # x1 <= 4
    [0, 1]    # x2 <= 6
]
b_ub = [18, 4, 6]

# 变量范围（非负）
bounds = [(0, None), (0, None)]

# 求解
result = linprog(c, A_ub=A_ub, b_ub=b_ub, bounds=bounds, method='highs')

# 输出结果
if result.success:
    print("✅ 成功找到最优解！")
    print("最大利润:", -result.fun)
    print("最优产量 x1 =", result.x[0])
    print("最优产量 x2 =", result.x[1])
else:
    print("❌ 未找到可行解。")
```

---

## ✅ 输出结果：

```
✅ 成功找到最优解！
最大利润: 36.0
最优产量 x1 = 2.0
最优产量 x2 = 6.0
```

解释：
- 在资源限制下，生产 2 单位 A 和 6 单位 B 可获得最大利润 36 元。
- 所有资源都被充分利用。

---

## 📌 四、扩展：多资源、多产品的一般模型

对于更复杂的情况，可以构建如下形式的模型：

$$
\begin{aligned}
\max \quad & \sum_{j=1}^{n} p_j x_j \\
\text{s.t.} \quad & \sum_{j=1}^{n} a_{ij} x_j \leq b_i \quad \forall i = 1,\dots,m \\
& x_j \geq 0 \quad \forall j
\end{aligned}
$$

其中：
- $ x_j $: 第 $ j $ 种产品的产量
- $ p_j $: 第 $ j $ 种产品的单位利润
- $ a_{ij} $: 第 $ j $ 种产品对第 $ i $ 种资源的消耗
- $ b_i $: 第 $ i $ 种资源的总量

---

## 📊 五、实际应用案例举例

| 行业 | 应用场景 |
|------|----------|
| 制造业 | 生产计划优化，资源调度 |
| 交通运输 | 运输路线和车辆调度 |
| 农业 | 土地分配与作物选择 |
| 教育 | 教师与课程安排 |
| 医疗 | 医护人员排班与物资调配 |

---

## 🧠 六、注意事项

- 如果变量要求整数（如人数、设备数），应使用 **整数规划（IP）** 或 **混合整数规划（MIP）**。
- 对于大规模问题，推荐使用专业求解器如 `PuLP`, `CVXPY`, `Gurobi`, `CPLEX`。
- 可以加入灵敏度分析（Sensitivity Analysis）来评估资源变化对利润的影响。

---
