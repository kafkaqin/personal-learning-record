import base64
import io
from PIL import Image
import pytesseract

# 替换为您的 Base64 字符串（中间不要换行）
base64_string = """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"""

# 解码并转换为图像
image_data = base64.b64decode(base64_string)
image = Image.open(io.BytesIO(image_data))
image.save("decoded_image.png")
# 设置只识别数字
custom_config = r'--oem 3 --psm 6 -c tessedit_char_whitelist=0123456789'

# 使用 Tesseract OCR 提取数字
# digits_only = pytesseract.image_to_string(image, config=custom_config)
digits_only = pytesseract.image_to_string(image)

print("识别出的数字：",digits_only)
